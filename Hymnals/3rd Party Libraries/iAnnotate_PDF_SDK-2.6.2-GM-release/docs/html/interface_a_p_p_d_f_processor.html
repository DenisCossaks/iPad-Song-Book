<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>iAnnotate PDF SDK: APPDFProcessor Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">iAnnotate PDF SDK
   &#160;<span id="projectnumber">2.5</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('interface_a_p_p_d_f_processor.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#properties">Properties</a>  </div>
  <div class="headertitle">
<div class="title">APPDFProcessor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="APPDFProcessor" -->
<p><code>#import &lt;<a class="el" href="_a_p_p_d_f_processor_8h_source.html">APPDFProcessor.h</a>&gt;</code></p>

<p><a href="class_a_p_p_d_f_processor-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_p_p_d_f_processor.html#a0936a73bd5b391a4d723a3f0210ce2e3">processPDF:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_p_p_d_f_processor.html#a6a94d50aae2f9d1d7c6e9dc1cf0fea5c">syncAnnotationsToPDF:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_p_p_d_f_processor.html#a7e1fc421acd46973d45c7b9ff1129922">writePDFWithAnnotations:toPath:options:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_p_p_d_f_processor.html#a4113a93788a1dabf577cc42424b0e3ba">writePDFWithAnnotations:toData:options:</a></td></tr>
<tr><td colspan="2"><h2><a name="properties"></a>
Properties</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">id&lt; <a class="el" href="protocol_a_p_p_d_f_processor_delegate-p.html">APPDFProcessorDelegate</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_a_p_p_d_f_processor.html#a2518aab0db2ad8f9bb5f1cdc2f59b1d9">delegate</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_aji_p_d_f_defs_8h.html#a0db4739abc77a44bae359afcdac87605">APPDFProcessingOptions</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_a_p_p_d_f_processor.html#ab4d03a31d420a66400c2ceb0b5903850">processingOptions</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Driver class for processing PDF files and writing back annotations to PDF files.</p>
<p>In order to support certain reading and annotation features, the PDF must first be <em>processed</em> to determine the locations of all text on the document pages, as well as other information such as links, existing annotations, and security information.</p>
<p>This extraction process generally takes a "long" time, so this information is cached on disk in the form of an <a class="el" href="interface_a_p_p_d_f_information.html">APPDFInformation</a> object. That way, each document only needs to be processed once, and then subsequent reads can access the information instantly.</p>
<p>This PDF Information file is then also used to store and manage annotations as the user creates them in real-time. When an annotated PDF file is required, this driver class can be used to generate it. (Generating an annotated PDF file can, again, be a lengthy process, depending on the number, order, and location of annotations; hence, it is only done on-demand using this driver class.)</p>
<p>It is highly recommend that this driver class is only used on a background thread, as these operations can take significant amounts of time (up to minutes for very large documents) depending on the size and complexity of the document being processed. The delegate callbacks in the <a class="el" href="protocol_a_p_p_d_f_processor_delegate-p.html">APPDFProcessorDelegate</a> protocol will be used to report progress. Note that a delegate is required for encrypted PDF documents, in order to provide the document password.</p>
<p>Use the delegate to receive notifications of processing progress, completion, and errors. Note that delegate callbacks will be performed on a non-main thread, so your delegate may have to perform selectors on the main thread to do any corresponding interface updates.</p>
<p>Also note that calls to the methods in this class will be automatically serialized by the library to avoid over-utilization of resources.</p>
<p>Implementations may cache information about PDF documents across processing and writeback requests, to improve performance for some common scenarios. You may therefore wish to keep one instance of the processor for the duration of your application, to take advantage of this potential performance boost. On the other hand, cache information may require additional memory resources; so at the very least you should release any idle processor object in the case of a memory warning. It is always safe to release the processor object after using it. </p>

<p>Definition at line <a class="el" href="_a_p_p_d_f_processor_8h_source.html#l00077">77</a> of file <a class="el" href="_a_p_p_d_f_processor_8h_source.html">APPDFProcessor.h</a>.</p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a0936a73bd5b391a4d723a3f0210ce2e3"></a><!-- doxytag: member="APPDFProcessor::processPDF:" ref="a0936a73bd5b391a4d723a3f0210ce2e3" args="(APPDFDocument *pdf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_a_p_p_d_f_processor.html#a0936a73bd5b391a4d723a3f0210ce2e3">processPDF:</a> </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_a_p_p_d_f_document.html">APPDFDocument</a> *)&#160;</td>
          <td class="paramname"><em>pdf</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used to process the PDF Information from a PDF file. Use the <a class="el" href="protocol_a_p_p_d_f_processor_delegate-p.html">APPDFProcessorDelegate</a> callbacks to obtain result or error information, or notification when processing is complete.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pdf</td><td>The <a class="el" href="interface_a_p_p_d_f_document.html">APPDFDocument</a> to process. Upon success, the <a class="el" href="interface_a_p_p_d_f_document.html#a860fb5d535e3c9a197a96e078b5166a3">APPDFDocument::information</a> property of the file will be updated with the information extracted from the document. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6a94d50aae2f9d1d7c6e9dc1cf0fea5c"></a><!-- doxytag: member="APPDFProcessor::syncAnnotationsToPDF:" ref="a6a94d50aae2f9d1d7c6e9dc1cf0fea5c" args="(APPDFDocument *pdf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_a_p_p_d_f_processor.html#a6a94d50aae2f9d1d7c6e9dc1cf0fea5c">syncAnnotationsToPDF:</a> </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_a_p_p_d_f_document.html">APPDFDocument</a> *)&#160;</td>
          <td class="paramname"><em>pdf</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used to sync the PDF file with the associated annotations in the <a class="el" href="interface_a_p_p_d_f_information.html">APPDFInformation</a> file. Use the <a class="el" href="protocol_a_p_p_d_f_processor_delegate-p.html">APPDFProcessorDelegate</a> callbacks to obtain result or error information, or notification when the write-back is complete.</p>
<p>If using a disk-based PDF, this method updates the PDF file in-place, which is done via an atomic file replace operation if the operation is successful. If using a data-based PDF, the <a class="el" href="protocol_a_p_p_d_f_processor_delegate-p.html#ae6d5b6fdf9f581cf3fcf58f5a2f27779">pdfProcessor:didSyncAnnotationsToPDF: (APPDFProcessorDelegate-p)</a> delegate callback will be used to report the updated data.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pdf</td><td>The <a class="el" href="interface_a_p_p_d_f_document.html">APPDFDocument</a> which has annotations in its <a class="el" href="interface_a_p_p_d_f_document.html#a860fb5d535e3c9a197a96e078b5166a3">APPDFDocument::information</a> property.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="interface_a_p_p_d_f_information.html#a83a9526395b8c0db82ee2bffe2bce107">APPDFInformation::isModified</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4113a93788a1dabf577cc42424b0e3ba"></a><!-- doxytag: member="APPDFProcessor::writePDFWithAnnotations:toData:options:" ref="a4113a93788a1dabf577cc42424b0e3ba" args="(APPDFDocument *pdf,[toData] NSMutableData *destData,[options] APPDFProcessorWriteOptions *options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) writePDFWithAnnotations: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_a_p_p_d_f_document.html">APPDFDocument</a> *)&#160;</td>
          <td class="paramname"><em>pdf</em></td>
        </tr>
        <tr>
          <td class="paramkey">toData:</td>
          <td></td>
          <td class="paramtype">(NSMutableData *)&#160;</td>
          <td class="paramname"><em>destData</em></td>
        </tr>
        <tr>
          <td class="paramkey">options:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_a_p_p_d_f_processor_write_options.html">APPDFProcessorWriteOptions</a> *)&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used to write the PDF content and annotations to an NSMutableData object. Use the options parameter to control the method used to write the output data. Use the <a class="el" href="protocol_a_p_p_d_f_processor_delegate-p.html">APPDFProcessorDelegate</a> callbacks to obtain result or error information, or notification when the output is complete.</p>
<p>File backed PDFs must use the writePDFWithAnnotations:toFile method instead of this one.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pdf</td><td>The <a class="el" href="interface_a_p_p_d_f_document.html">APPDFDocument</a> indicating the PDF and associated annotations.</td></tr>
    <tr><td class="paramname">destData</td><td>The NSData object to hold the output PDF document.</td></tr>
    <tr><td class="paramname">options</td><td>Options used to control the output PDF. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7e1fc421acd46973d45c7b9ff1129922"></a><!-- doxytag: member="APPDFProcessor::writePDFWithAnnotations:toPath:options:" ref="a7e1fc421acd46973d45c7b9ff1129922" args="(APPDFDocument *pdf,[toPath] NSString *destPath,[options] APPDFProcessorWriteOptions *options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) writePDFWithAnnotations: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_a_p_p_d_f_document.html">APPDFDocument</a> *)&#160;</td>
          <td class="paramname"><em>pdf</em></td>
        </tr>
        <tr>
          <td class="paramkey">toPath:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>destPath</em></td>
        </tr>
        <tr>
          <td class="paramkey">options:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_a_p_p_d_f_processor_write_options.html">APPDFProcessorWriteOptions</a> *)&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used to write the PDF content and annotations to another output PDF file. Use the options parameter to control the method used to write the output file. Use the <a class="el" href="protocol_a_p_p_d_f_processor_delegate-p.html">APPDFProcessorDelegate</a> callbacks to obtain result or error information, or notification when the output is complete.</p>
<p>This method writes the output PDF file at the specified path. Any existing file is removed and replaced. If the operation fails, the status of the file at destPath is undefined.</p>
<p>NSData backed PDFs must use the writePDFWithAnnotations:toData method instead of this one.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pdf</td><td>The <a class="el" href="interface_a_p_p_d_f_document.html">APPDFDocument</a> indicating the PDF and associated annotations.</td></tr>
    <tr><td class="paramname">destPath</td><td>The full path of the output file.</td></tr>
    <tr><td class="paramname">options</td><td>Options used to control the output PDF. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Property Documentation</h2>
<a class="anchor" id="a2518aab0db2ad8f9bb5f1cdc2f59b1d9"></a><!-- doxytag: member="APPDFProcessor::delegate" ref="a2518aab0db2ad8f9bb5f1cdc2f59b1d9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id&lt;<a class="el" href="protocol_a_p_p_d_f_processor_delegate-p.html">APPDFProcessorDelegate</a>&gt;) <a class="el" href="interface_a_p_p_d_f_processor.html#a2518aab0db2ad8f9bb5f1cdc2f59b1d9">delegate</a><code> [read, write, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The delegate used for notification and information callbacks. </p>

<p>Definition at line <a class="el" href="_a_p_p_d_f_processor_8h_source.html#l00087">87</a> of file <a class="el" href="_a_p_p_d_f_processor_8h_source.html">APPDFProcessor.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab4d03a31d420a66400c2ceb0b5903850"></a><!-- doxytag: member="APPDFProcessor::processingOptions" ref="ab4d03a31d420a66400c2ceb0b5903850" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="_aji_p_d_f_defs_8h.html#a0db4739abc77a44bae359afcdac87605">APPDFProcessingOptions</a>) <a class="el" href="interface_a_p_p_d_f_processor.html#ab4d03a31d420a66400c2ceb0b5903850">processingOptions</a><code> [read, write, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The options to use when processing PDF files. Defaults to kAPPDFProcessingOptionsDefault. </p>

<p>Definition at line <a class="el" href="_a_p_p_d_f_processor_8h_source.html#l00094">94</a> of file <a class="el" href="_a_p_p_d_f_processor_8h_source.html">APPDFProcessor.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>dist/include/<a class="el" href="_a_p_p_d_f_processor_8h_source.html">APPDFProcessor.h</a></li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="interface_a_p_p_d_f_processor.html">APPDFProcessor</a>      </li>
<table width="100%" border="0">
  <tr>
    <td align="right"><span style="color: black;">Copyright (c) 2010-2013 Branchfire, Inc.</span></td>
  </tr>
</table>
